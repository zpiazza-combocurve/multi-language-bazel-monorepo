/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.11pre
*/
ZC.WG.push("pie"),ZC.A3U=ZC.JK.CC({$i:function(C){this.b(C),this.AF="pie",this.AZ=new ZC.A57(this)},A2P:function(C){return C},MR:function(C){switch(C){case"m":return new ZC.T5(this);case"v":return new ZC.W7(this);case"r":return new ZC.A2B(this)}},ACO:function(){var C=this,n=C.MR("m","scale"),i=C.MR("v",ZC._[52]),A=C.MR("r","scale-r");n.BF="scale",n.L=C.L+"-scale",C.o[ZC._[11]]&&C.o[ZC._[11]].length&&C.o[ZC._[11]][0][ZC._[5]]&&(n.NF="1x"+C.o[ZC._[11]][0][ZC._[5]].length),i.BF=ZC._[52],i.L=C.L+"-scale-v",A.BF="scale-r",A.L=C.L+"-scale-r",C.BO.push(n,i,A),C.b()},clear_:function(){-1!==ZC.AV(["svg","vml"],this.H.AC)&&ZC.A5("#"+this.L+" .zc-layer").each(function(){/\-plot-\d+\-bl\-\d+\-/.test(this.id)&&ZC.A5(this).children().each(function(){/\-connector\-path/.test(this.id)&&ZC.Q.EU(this)})})}}),ZC.A57=ZC.LM.CC({$i:function(C){this.b(C);C=this;C.KN=[],C.P5=[],C.TO=[]},ACU:function(){return new ZC.W6(this)},parseLayout:function(C){for(var n=this,i=(C&&(n.TO=[],n.P5=[]),n.A.BM("scale-r")),A=n.A.BM("scale"),t=.9,e=1,o=(10<=n.A3.length&&(e=1),20<=n.A3.length&&(e=1.25),30<=n.A3.length&&(e=1.5),i.DJ),l=0,Z=n.A3.length;l<Z;l++)null!==ZC._n_(n.A3[l].o["ref-angle"])&&(o=n.A3[l].DJ);for(l=0,Z=n.A3.length;l<Z;l++)if(n.C.D["plot"+l+".visible"]||"hide"===n.C.getToggleAction())for(var _,a,r,s=0,h=n.A3[l].S.length;s<h;s++)n.A3[l].S[s]&&(n.YB["n"+s]=n.YB["n"+s]||[],a=n.A3[l].S[s],null===ZC._n_(n.P5[s])&&(n.P5[s]=o),r=null!==ZC._n_(r=n.A3[l].o[ZC._[1]])?ZC._f_(r):n.P5[s],_=n.KN[s],_=0===(_=null!==ZC._n_(n.A3[l].o.totals)&&null!==ZC._n_(n.A3[l].o.totals[s])?n.KN[s]=ZC._f_(n.A3[l].o.totals[s]):_)?r+i.EK*(1/Z):0===a.AD&&n.A3[l].TP?r+i.EK*(.005*n.KN[s])/_:r+i.EK*a.AD/_,n.P5[s]=_,a.B4=r,a.BL=_,"out"===(a=a.GX(!0)).o[ZC._[7]]&&a.AN&&(r=ZC._i_((r+_)/2),n.YB["n"+s][l]=r-o,_=ZC.CY(A.I/2-e*a.I-a.DV-35,A.F/2-e*a.F-a.DV-15),t=ZC.CY(t,2*_/ZC.CY(A.I,A.F))));if("pie3d"===n.A.AF&&(t*=.75),t=ZC.BQ(.1,ZC.CY(.9,t)),"auto"===A.o["size-factor"]&&(A.JF=t),C)for(var B in n.YB)n.YB[B]=ZC.AO.ACJ(n.YB[B],o)},parse:function(){var C=this;C.A.o.plot&&"auto"===C.A.o.plot.layout&&(null===ZC._n_(C.A.o.plot["ref-angle"])&&(C.A.o.plot["ref-angle"]=-90),C.o.sort(function(C,n){return n[ZC._[5]][0]-C[ZC._[5]][0]})),C.TO=[],C.KN=[],C.P5=[],C.YB={},C.b();for(var n=0,i=C.A3.length;n<i;n++)for(var A=0,t=C.A3[n].S.length;A<t;A++)C.A3[n].S[A]&&C.A3[n].S[A]&&(C.C.D["plot"+n+".visible"]||"hide"===C.C.getToggleAction())&&0===C.A3[n].S[A].AD&&C.A3[n].TP&&(C.KN[A]+=.005*C.KN[A]);C.parseLayout()}}),ZC.W6=ZC.HV.CC({$i:function(C){this.b(C);C=this;C.AF="pie",C.BO=["scale",ZC._[52],"scale-r"],C.PR=0,C.DJ=0,C.TP=!1,C.A7S=!0,C.C3=null,C.P2="bg"},TY:function(){return new ZC.A8R(this)},parse:function(){var C,n=this;null===ZC._n_(n.o[ZC._[17]])&&(n.o[ZC._[17]]={}),"ring"!==n.A.A.o.type&&"ring3d"!==n.A.A.o.type||(n.PR=.35),n.BP=n.O0(),n.C2=n.BP[0],n.A0=n.BP[1],n.AE=n.BP[2],n.BX=n.BP[0],n.B7=n.BP[0],n.NP(),n.b(),n.C3=new ZC.D0(n),n.C.A.B8.load(n.C3.o,["graph.plot.value-box.connector",n.AF+".plot.value-box.connector"]),null!==ZC._n_(C=n.C.o.plot)&&null!==ZC._n_(C[ZC._[17]])&&null!==ZC._n_(C=C[ZC._[17]].connector)&&n.C3.append(C),n.C3.append(n.o[ZC._[17]].connector),n.assign_a([["offset","DV","fp"],[ZC._[8],"PR","fp"],["show-zero","TP","b"],["detach","A7S","b"],["ref-angle","DJ","i"]]),n.DJ%=360;for(var i=0,A=n.S.length;i<A;i++)n.S[i]&&(n.S[i].CO=n.PR,n.S[i]&&(n.C.D["plot"+n.K+".visible"]||"hide"===n.C.getToggleAction())&&(null===ZC._n_(n.A.KN[i])&&(n.A.KN[i]=0),n.A.KN[i]+=ZC._f_(n.S[i].AD)))},paint:function(){var C=this;C.b(),C.KE=C.CQ("bl",0),C.PC(!0)}}),ZC.A8R=ZC.LG.CC({bCXY:!0,U:null,$i:function(C){this.b(C)},parse:function(){this.b()},AB3:function(){this.b();var C=this.C.D;C.update.npv=C.update["node-percent-value"]=this.JW("%npv")},JW:function(C,n,i,A){var t=this,e=t.A.MS(),o=(ZC._cp_(n,e),-1===C.indexOf("%npv")&&-1===C.indexOf("%node-percent-value")||null!==ZC._n_(e[ZC._[12]])&&-1!==e[ZC._[12]]||(e[ZC._[12]]=1),0),l="0";if(0<t.A.A.KN[t.K]&&(l=""+(o=100*t.AD/t.A.A.KN[t.K])),1<t.A.A.A3.length&&t.A.K===t.A.A.A3.length-1){var Z=0;if(null===ZC._n_(t.A.o.totals)){for(var _,a,r=0;r<t.A.A.A3.length-1;r++)t.A.A.A3[r].AN&&null!==ZC._n_(t.A.A.A3[r].S[t.K])&&(a="0",(_=0)<t.A.A.KN[t.K]&&(a=""+(_=100*t.A.A.A3[r].S[t.K].AD/t.A.A.KN[t.K])),null!==ZC._n_(e[ZC._[12]])&&(a=_.toFixed(ZC.BQ(0,ZC._i_(e[ZC._[12]])))),Z+=ZC._f_(a));l=""+(o=Math.max(0,100-Z))}}null!==ZC._n_(e[ZC._[12]])&&(l=o.toFixed(ZC.BQ(0,ZC._i_(e[ZC._[12]]))));o=ZC._f_(t.A.A.KN[t.K]||"0"),o=ZC.AQ.G3(o,e,t.A);return t.CV=[["%node-percent-value",l],["%npv",l],["%pie-total-value",o]],C=t.b(C,n,i,A)},getTooltipPosition:function(C,n){var i,A,t,e=this,o=(e.B4+e.BL)/2%360;switch(n){case"out":A=(i=ZC.AO.BN(e.iX,e.iY,e.AI+e.DV+C.DV,o))[0]+e.BK,t=i[1]+e.BI,270<o&&o<=360?t-=C.F:90<o&&o<=180?A-=C.I:180<o&&o<=270&&(A-=C.I,t-=C.F);break;case"center":A=(i=ZC.AO.BN(e.iX,e.iY,e.CO+.5*(e.AI-e.CO)+e.DV,o))[0]+e.BK,t=i[1]+e.BI;break;default:A=e.iX+e.BK,t=e.iY+e.BI}return{x:A,y:t}},V4:function(C){var n=this,i=(n.B4+n.BL)/2%360,A=0,C=((A=null!==ZC._n_(C=C["offset-r"])?ZC._f_(ZC._p_(C)):A)<1&&(A*=n.AI),ZC.AO.BN(n.iX,n.iY,n.CO+.6*(n.AI-n.CO)+n.DV+A,i));return[C[0],C[1],{reference:n,center:!0}]},ACA:function(){var C=this,n=(C.B4+C.BL)/2%360,C=ZC.AO.BN(C.iX,C.iY,C.CO+.5*(C.AI-C.CO)+C.DV,n);return[C[0],C[1]]},setup:function(){var C=this,n=C.C.BM(C.A.BW("k")[0]),i=C.K%n.H2,A=Math.floor(C.K/n.H2);C.iX=n.iX+i*n.GK+n.GK/2+n.BK,C.iY=n.iY+A*n.GF+n.GF/2+n.BI,C.I3||(C.copy(C.A),C.E7=C.A.E7,C.DF()&&C.parse(!1),C.I3=!0)},ABF:function(C){var n={},i="out";return null!==ZC._n_(C=C.o[ZC._[7]])&&(i=C),n.color="out"===i?this.A0:this.C2,n},AC7:function(A){var C,n,t,i,e,o,l=this,Z="out",_=(null!==ZC._n_(r=A.o[ZC._[7]])&&(Z=r),A.I),a=A.F;r=(l.B4+l.BL)/2%360;if("out"===Z){var r=C=l.A.A.YB["n"+l.K][l.A.K],s=function(C,n){n<0&&(n=360+n),n%=360;var C=(t=ZC.AO.BN(l.iX,l.iY,C+l.DV+A.DV+20,n))[0]+A.BK-_/2,i=t[1]+A.BI-a/2;return 0<=n&&n<=90||270<=n&&n<=360?C+=_/2+10:C-=_/2+10,[C,i]},h=s(l.AI,C),B=h[0],u=h[1];l.U=A;for(var c={x:B,y:u,width:_,height:a},f=zingchart.DEV.SPREADTYPE,p=(v=!0,0),K=0,O=-1,I=0,D=0;v&&D<1024;)for(var v=!1,g=0,d=l.A.A.TO.length;g<d;g++)n=l.A.A.TO[g],(ZC.AO.XV(c,n)||c.x+A.I>l.C.P.iX+l.C.P.I||c.x<l.C.P.iX||c.y+A.F>l.C.P.iY+l.C.P.F||c.y<l.C.P.iY)&&(v=!0,0===f?(p+=.4,O*=-1):1===f&&(K+=2),h=s(l.AI+K,C+p*O),c.x=h[0],c.y=h[1],D++,100<++I&&((I=0)===f?(p=0,K+=2):1===f&&(K=0,p+=.4,O*=-1)));B=c.x,u=c.y,r=C+p,n={text:l.A.AM,x:c.x,y:c.y,width:_,height:a,plotindex:l.A.K,nodeindex:l.K},l.A.A.TO.push(n)}else"in"===Z||"radial"===Z?(i=l.CO<30?.65:.5,B=(t=ZC._x_(l.B4,2)%360==ZC._x_(l.BL,2)%360?0===l.CO?[l.iX,l.iY]:ZC.AO.BN(l.iX,l.iY,l.CO+.3*(l.AI-l.CO)+l.DV+A.DV,270):ZC.AO.BN(l.iX,l.iY,l.CO+i*(l.AI-l.CO)+l.DV+A.DV,r))[0]-_/2+l.BK,u=t[1]-a/2+l.BI):-1!==Z.indexOf("fixed=")?(i=Z.split(/=|;|,/),e=(l.AI+l.CO)/2,o=r,i[1]&&(e=-1<=(e=ZC.IK(i[1],!0))&&e<=1||-1!==i[1].indexOf("%")?l.CO+l.DV+e*(l.AI-l.CO):l.CO+l.DV+e),i[2]&&(o=-1<=(o=ZC.IK(i[2],!0))&&o<=1||-1!==i[2].indexOf("%")?l.B4+o*(l.BL-l.B4):l.B4+o),i[3]&&("+"===i[3].charAt(0)||"-"===i[3].charAt(0)?(A.AA=(o%=360)+ZC._f_(i[3]),90<A.AA&&A.AA<270&&(A.AA+=180)):A.AA=ZC._f_(i[3])),B=(t=ZC.AO.BN(l.iX,l.iY,e,o))[0]-_/2,u=t[1]-a/2):"center"===Z&&(B=l.iX-_/2+l.BK,u=l.iY-a/2+l.BI);return v&&(A.AN=!(u=B=-9999)),null!==ZC._n_(A.o.x)&&(B=A.iX),null!==ZC._n_(A.o.y)&&(u=A.iY),-2<=B&&(B=ZC._a_(B)),-2<=u&&(u=ZC._a_(u)),[ZC._i_(B),ZC._i_(u),r]},appendToValueBox:function(C){var n,i,A,t=this,e={};return"radial"===C.o[ZC._[7]]&&(n=.9*ZC._a_(t.AI-t.CO),i=Math.PI*(t.AI+t.CO)*.9*ZC._a_(t.BL-t.B4)/360,A=ZC._i_(Math.max(n,i)/(.75*C.DG)),null===ZC._n_(C.o.visible)?e.visible=1===t.A.A.A3.length||i>1.25*C.DG:e.visible=C.JC.visible,null===ZC._n_(C.o["max-chars"])&&(e["max-chars"]=A),null===ZC._n_(C.o.angle)&&(A=(t.B4+t.BL)/2%360,1<t.A.A.A3.length?n<i?0<A&&A<180?A-=90:A+=90:90<A&&A<270&&(A+=180):A=0,e.angle=A)),e},GX:function(C,n){var i,A,t,e=this,n=e.b(C,n);if(C)return n;e.AN&&n.AN&&null!==ZC._n_(n.AM)&&""!==n.AM&&((C="out")===(C=null!==ZC._n_(i=n.o[ZC._[7]])?i:C)&&(C=!0,(C=null!==ZC._n_(i=n.o.connected)?ZC._b_(i):C)&&((i=new ZC.DT(e.A)).Z=i.C7=e.A.CQ("bl",0),i.append(e.A.C3.o),i.L=e.L+"-connector",i.B7=e.A0,i.DS="line",i.E=[],C=n.D.positioninfo,A=(e.B4+e.BL)/2%360,(t=ZC.AO.BN(e.iX,e.iY,e.AI+e.DV,A))[0]+=e.BK,t[1]+=e.BI,i.E.push(t),(t=ZC.AO.BN(e.iX,e.iY,e.AI+e.DV+10,A))[0]+=e.BK,t[1]+=e.BI,n.iX>=e.iX?"vml"===e.H.AC?i.E.push([C[0],C[1]+n.F/2]):i.E.push([t[0],t[1],C[0],C[1]+n.F/2]):"vml"===e.H.AC?i.E.push([C[0]+n.I+2,C[1]+n.F/2]):i.E.push([t[0],t[1],C[0]+n.I+2,C[1]+n.F/2]),i.parse(),i.J5=function(C){return e.J5(C)},i.DF()&&i.parse(),i.AN&&i.paint())))},paint:function(){var i=this;if(i.b(),!(i.AD<0)){var C=i.C.BM(i.A.BW("k")[0]),n=(i.setup(),"pie-sel-"+i.A.K+"-"+i.K),A=(typeof i.o.detached!==ZC._[31]&&(i.C.D[n]=ZC._b_(i.o.detached)),i.AI=ZC.CY(C.GF,C.GK)/2,null!==ZC._n_(i.A.o[ZC._[21]])?(e=ZC.IK(i.A.o[ZC._[21]],!1),i.AI=e<=1?i.AI*e:e):i.AI=C.JF*i.AI,i.CO<=1&&(i.CO*=i.AI),i.CO=Math.max(0,i.CO),i.o[ZC._[8]]=i.CO,i.DV<=1&&(i.DV*=i.AI),i.o["offset-r"]=i.DV,i.C.D[n]&&(i.DV+=ZC._i_(.15*i.AI)),i.O=i.A.IE(i,i));if(i.H3(A),0<=i.AD||0===i.A.A.KN[i.K]){var t=new ZC.DT(i.A),e=(t.L=i.L,t.Z=i.A.CQ("bl",1),t.C7=i.A.CQ("bl",0),t.copy(A),i.iX),C=i.iY,o=(0<i.DV&&(e=(a=ZC.AO.BN(i.iX,i.iY,i.DV,(i.B4+i.BL)/2))[0],C=a[1]),t.iX=e,t.iY=C,t.AI=i.AI,t.o[ZC._[21]]=i.AI,t.DS="pie",t.B4=ZC._f_(i.B4),t.BL=ZC._f_(i.BL),t.CO=i.CO,t.D.plotidx=i.A.K,t.D.nodeidx=i.K,t.parse(),i.G5=t,function(){var C,n;!i.A.K8&&i.AN&&(C=t.FG(),n=i.C.L+ZC._[34]+i.C.L+ZC._[35]+i.A.K+ZC._[6],n=ZC.Q.FX("poly",i.A.EA,i.A.IO)+'class="'+n+'" '+i.a11y()+' id="'+i.L+ZC._[30]+C+'" />',i.A.A.HE.push(n)),i.A.U&&i.GX()});if(i.AN)if(i.A.GE&&!i.C.HH){var l,Z=t,_={},n=(Z.iX=e,Z.iY=C,Z.B4=i.B4,Z.BL=i.BL,_.angleStart=i.B4,_.angleEnd=i.BL,_.x=e,_.y=C,i.A.L8);for(l in Z.C6=0,_.alpha=A.C6,2===n?(Z.BL=i.B4,_.angleEnd=i.BL):3===n?(Z.AI=i.CO,_.size=i.AI):4===n?(a=ZC.AO.BN(i.iX,i.iY,1.2*i.AI,(i.B4+i.BL)/2),Z.iX=a[0],Z.iY=a[1],_.x=e,_.y=C):5===n&&(Z.B4=Z.BL=(i.B4+i.BL)/2,_.angleStart=i.B4,_.angleEnd=i.BL),i.A.FW)Z[ZC.E6.GM[ZC.EF(l)]]=i.A.FW[l],_[ZC.EF(l)]=A[ZC.E6.GM[ZC.EF(l)]];if(null===ZC._n_(i.C.EO)&&(i.C.EO={}),null!==ZC._n_(i.C.EO[i.A.K+"-"+i.K]))for(l in i.C.EO[i.A.K+"-"+i.K])Z[ZC.E6.GM[ZC.EF(l)]]=i.C.EO[i.A.K+"-"+i.K][l];i.C.EO[i.A.K+"-"+i.K]={},ZC._cp_(_,i.C.EO[i.A.K+"-"+i.K]);var a=new ZC.E6(Z,_,i.A.JG,i.A.L6,ZC.E6.RL[i.A.L9],function(){o()});(a.AX=i).LR(a)}else t.paint(),o()}else i.A.U&&i.GX()}},A12:function(C){var n=this;ZC.move||n.M7({layer:C,type:"shape",initcb:function(){var C;this.copy(n),this.iX=n.iX,this.iY=n.iY,0<n.DV&&(C=ZC.AO.BN(n.iX,n.iY,n.DV,(n.B4+n.BL)/2),this.iX=C[0],this.iY=C[1]),this.AI=n.AI,this.DS="pie",this.A0=n.A.BP[3],this.AE=n.A.BP[2],this.B4=ZC._f_(n.B4),this.BL=ZC._f_(n.BL),this.CO=n.CO},parsecb:function(){this.o[ZC._[21]]=n.AI,this.o[ZC._[8]]=n.CO,this.o["offset-r"]=n.DV}})},X4:function(C,n){var i=this;i.b(C,n),"click"===n&&C.which<=1&&i.A.A7S&&(zingchart.SKIP.ANIMATION=!0,zingchart.SKIP.EVENT=!0,n="pie-sel-"+i.A.K+"-"+i.K,i.C.D[n]=typeof i.C.D[n]===ZC._[31]||!i.C.D[n],i.C.K7(),zingchart.SKIP.EVENT=!1,zingchart.SKIP.ANIMATION=!1)}});