/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.11pre
*/
zingchart.setModule("wordcloud"),function(){var o;ZC.AFW=((o=function(){this.AFD=9,this.AFE=99,this.AFF=2,this.EH=100,this.AFG=15,this.AFH=5,this.ZF=!1,this.ER="word",this.AC6=[],this.AM="",this.aWords=[],this.oWordsMap=null,this.CW="spiral",this.AF9="palette",this.C2="#000",this.bNormalize=!1,this.AGQ=function(){for(var t=(16777215*Math.random()+1<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},this.JW=function(){var t,e={};if(""!==this.AM){if("word"===this.ER)var o=this.AM.replace(/[\:\;\,\.\{\}\[\]\(\)\?\!\/\=\+\-]/g," ").split(" ");else if("character"===this.ER)for(o=[],t=this.AFF=0;t<this.AM.length;t++)" "!==this.AM[t]&&o.push(this.AM[t]);for(t=0;t<o.length;t++){var a=this.bNormalize?o[t].toLowerCase():o[t];if(o[t].length>=this.AFF&&-1===ZC.AV(this.AC6,o[t]))if(this.bNormalize){var l,r=!1;for(l in e)l.toLowerCase()===a&&(r=!0,e[l]++);r||(e[o[t]]=1)}else null===ZC._n_(e[o[t]])&&(e[o[t]]=0),e[o[t]]++}}if(0<this.aWords.length)for(this.oWordsMap={},t=0;t<this.aWords.length;t++){var i=this.aWords[t];null!==ZC._n_(i.text)&&(e[(this.oWordsMap[i.text]=i).text]=i.count||0)}return e},this.intersectRect=function(t,e){return!(e.iX>t.iX+t.I||e.iX+e.I<t.iX||e.iY>t.iY+t.F||e.iY+e.F<t.iY)}}).getDefaults=function(t){var e={};return ZC._cp_(o.B8,e),o.NQ[t]&&ZC._cp_(o.NQ[t],e),e},o.B8={palette:["#6a921f","#007fa3","#a62b02","#b79007","#563d02","#0b32a0"]},o.NQ={light:{palette:["#7CA82B","#29A2CC","#D31E1E","#EF8535","#A14BC9","#A05F18","#265E96","#6B7075"]},dark:{palette:["#7CA82B","#29A2CC","#D31E1E","#EF8535","#A14BC9","#A05F18","#265E96","#6B7075"]}},o),zingchart.bind(null,"dataparse",function(N,t){for(var e,X,o,k,a=zingchart.getLoader(N.id),l=0,I=t[ZC._[16]].length;l<I;l++)if(t[ZC._[16]][l].type&&"wordcloud"===t[ZC._[16]][l].type){var r=t[ZC._[16]][l].type,i=t[ZC._[16]][l],Y=ZC.AFW.getDefaults(N.theme),n={};for(i.options&&(n=i.options[r]||i.options),ZC._todash_(n,!0,["words"]),i[ZC._[10]]=i[ZC._[10]]||[],o=i[ZC._[10]].length-1;0<=o;o--)(i[ZC._[10]][o]["data-word-cloud"]||i[ZC._[10]][o].dataWordCloud)&&i[ZC._[10]].splice(o,1);i.plotarea=i.plotarea||{},null===ZC._n_(i.plotarea.margin)&&(i.plotarea.margin=5);var C,_=new ZC.AFW,h=(null!==ZC._n_(e=n.text)&&(_.AM=e),null!==ZC._n_(e=n.words)&&(_.aWords=e),null!==ZC._n_(e=n.aspect)&&(_.CW=e),null!==ZC._n_(e=n.ignore)&&(_.AC6=e),null!==ZC._n_(e=n.token)&&(_.ER=e),null!==ZC._n_(e=n["min-length"])&&(_.AFF=ZC._i_(e)),null!==ZC._n_(e=n["min-font-size"])&&(_.AFD=ZC._i_(e)),null!==ZC._n_(e=n["max-font-size"])&&(_.AFE=ZC._i_(e)),null!==ZC._n_(e=n["max-items"])&&(_.EH=ZC._i_(e)),null!==ZC._n_(e=n["color-type"])&&(_.AF9=e),null!==ZC._n_(e=n.color)&&(_.C2=ZC.AQ.GC(e)),null!==ZC._n_(e=n.palette)?_.BP=e:_.BP=Y.palette,null!==ZC._n_(e=n["step-angle"])&&(_.AFG=ZC._i_(e)),null!==ZC._n_(e=n["step-radius"])&&(_.AFH=ZC._i_(e)),null!==ZC._n_(e=n.rotate)&&(_.ZF=ZC._b_(e)),null!==ZC._n_(e=n.normalize)&&(_.bNormalize=ZC._b_(e)),{}),s=(null!==ZC._n_(e=n.style)&&ZC._cp_(e,h),zingchart.getInstance(a,"textbox")),p=(s.append(h),s.parse(),_.AFD=ZC.BQ(4,_.AFD),_.AFE=ZC.BQ(4,_.AFE),_.AFD>=_.AFE&&(_.AFE=_.AFD+2),zingchart.getGraphInfo(a,t,l)),Z=[],A=p.plotarea.x+p.plotarea.width/2,F=p.plotarea.y+p.plotarea.height/2,r=1,L=("spiral"===_.CW?r=_.ZF?.65:.55:"flow-top"!==_.CW&&"flow-center"!==_.CW||(_.ZF=!1,r=.75),p.plotarea.width*p.plotarea.height*r),u=_.JW(),f=[],c=-Number.MAX_VALUE,d=Number.MAX_VALUE;for(C in u)f.push({text:C,count:u[C],hits:u[C]});for(f.sort(function(t,e){return t.count<e.count?1:t.count>e.count?-1:0}),-1!==_.EH&&f.splice(_.EH,f.length-_.EH),E=0;E<f.length;E++)c=ZC.BQ(f[E].count,c),d=ZC.CY(f[E].count,d);for(E=0;E<f.length;E++)f[E].count=c===d?50:10+90*(f[E].count-d)/(c-d);for(var g=function(t){for(E=0;E<f.length;E++)f[E].fontSize=Math.max(_.AFD,ZC._i_(_.AFD+f[E].count/100*(_.AFE-_.AFD))-t),f[E].width=ZC.Q.A47(a.L,f[E].text,s.GH,f[E].fontSize,s.sFontWeight,s.FJ)+s.EQ+s.FN,f[E].height=1.1*f[E].fontSize+s.FM+s.FU},W=(g(0),!1);!W;){for(var W=!0,R=0,E=0;E<f.length;E++)R+=f[E].width*f[E].height;L<R&&(W=!1,_.AFE--,_.AFE<=_.AFD+4&&_.AFD--,g(0),(_.AFD<5||_.AFE<5)&&(W=!0))}null===ZC._n_(n["step-radius"])&&(_.AFH=(_.AFE-_.AFD+.25*_.AFD*_.AFF+1)/10);for(var w=!0,x=-1;w&&x<_.AFE-_.AFD;){Z=[],i[ZC._[10]]=[],g(x+=1);var D,w=!1,M=0,S=0,P=_.AFE/2,J=_.AFE/2,U=[];for(E=0,X=f.length;E<X;E++){var b=!0,m=A,y=F,V=_.C2;switch(_.AF9){case"random":V=_.AGQ();break;case"palette":V=_.BP[E%_.BP.length]}var j=!_.ZF||E%4==0||E%4==3?0:90,v=!1,z=f[E].text,B={padding:0,dataWordCloud:!0},q=(ZC._cp_(h,B),ZC._cp_({angle:j,"font-size":Math.max(_.AFD,f[E].fontSize-x),text:z,color:V},B),null!==ZC._n_(n.style)&&null!==ZC._n_(e=n.style[ZC._[71]])&&(B[ZC._[71]]={},ZC._cp_(e,B[ZC._[71]])),z),H=(B.tooltip={visible:!1,"background-color":"#fff",color:"#333","border-width":1,"border-color":"#999",padding:10,text:q},null!==ZC._n_(n.style)&&null!==ZC._n_(e=n.style.tooltip)&&ZC._cp_(e,B.tooltip),B.tooltip.text=B.tooltip.text.replace("%text",z).replace("%hits",f[E].hits),_.oWordsMap&&null!==ZC._n_(_.oWordsMap[z])&&(ZC._cp_(_.oWordsMap[z],B),ZC._cp_(_.oWordsMap[z].style,B)),0),K=0,O=0,T=_.AFD/2;for("flow-top"===_.CW?O=1:"flow-center"===_.CW&&(O=E%2==0?1:-1),U[E]=0;b&&!w;){var $,Q=f[E].width,G=f[E].height;if("spiral"===_.CW?(m=A+(0===E?0:P)*ZC.EI(M)-Q/2,y=F+(0===E?0:J)*ZC.EP(M)-G/2):"flow-center"===_.CW?(m=0===E?A-Q/2:p.plotarea.x+H,y=F-G/2+K):"flow-top"===_.CW&&(m=0===E?A-Q/2:p.plotarea.x+H,y=p.plotarea.y+K),90==j&&"flow-top"===_.CW&&(y=ZC.BQ(y,p.plotarea.y+G)),B.x=ZC._i_(m),B.y=ZC._i_(y),b=!1,90==j&&($=Q,m=ZC._i_(m+Q/2-G/2),y=ZC._i_(y+G/2-Q/2),Q=G,G=$),m<p.plotarea.x||m+Q>p.plotarea.x+p.plotarea.width||y<p.plotarea.y||y+G>p.plotarea.y+p.plotarea.height)if("spiral"===_.CW){if(!(U[E]<200)){w=v=!0;break}U[E]++,b=!0}else if("flow-top"===_.CW||"flow-center"===_.CW){if(m+Q>p.plotarea.x+p.plotarea.width&&(b=!0,H=-T,K+=O*T),y+G>p.plotarea.y+p.plotarea.height){v=!0;break}if(y<p.plotarea.y){v=!0;break}}if(D={iX:m,iY:y,I:Q,F:G,DG:Math.max(f[E].fontSize-x,_.AFD),AM:f[E].text,GH:s.GH},!b)for(o=0,k=Z.length;o<k;o++)if(_.intersectRect(Z[o],D)){H+=Z[o].I,b=!0;break}"spiral"===_.CW?b?S+360<(M+=_.AFG)&&(P+=_.AFH,J+=_.AFH*(p.plotarea.height/p.plotarea.width),M=S=5*E%360):(P=J=_.AFE/2,M=S=5*E%360):"flow-top"!==_.CW&&"flow-center"!==_.CW||b&&(H+=T)}v||D.iX<p.plotarea.x||D.iX+D.I>p.plotarea.x+p.plotarea.width||D.iY<p.plotarea.y||D.iY+D.F>p.plotarea.y+p.plotarea.height||(Z.push(D),i[ZC._[10]].push(B))}"flow-top"!==_.CW&&"flow-center"!==_.CW||f.length>Z.length&&(w=!0)}}return t})}();