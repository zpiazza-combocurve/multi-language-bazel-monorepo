/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.11pre
*/
ZC.WG.push("refresh"),ZC.JK.prototype.A37=function(){for(var s=this,e=0,t=0,n=s.BO.length;t<n;t++)"k"===s.BO[t].AF&&s.o[s.BO[t].BF]&&s.o[s.BO[t].BF][ZC._[5]]&&(e=ZC.BQ(e,s.o[s.BO[t].BF][ZC._[5]].length));for(t=0,n=s.AZ.A3.length;t<n;t++)null!==ZC._n_(s.o[ZC._[11]][t])&&s.o[ZC._[11]][t][ZC._[5]]&&(e=ZC.BQ(e,s.o[ZC._[11]][t][ZC._[5]].length));return e},ZC.JK.prototype.U9=function(){var s,e=this;if(e.HQ)for(var t=e.A37(),n=0,a=e.BO.length;n<a;n++)"k"===e.BO[n].AF&&(e.BO[n].CK?(s=(e.BO[n].F-e.BO[n].A9-e.BO[n].BS)/ZC._i_(e.HQ["max-ticks"]),e.BO[n].OK=ZC.BQ(0,e.BO[n].F-t*s)):(s=(e.BO[n].I-e.BO[n].A9-e.BO[n].BS)/ZC._i_(e.HQ["max-ticks"]),e.BO[n].OK=ZC.BQ(0,e.BO[n].I-t*s)),ZC._b_(e.HQ["adjust-scale"])&&(e.BO[n].OK=0),e.BO[n].A9=e.BO[n].A41+e.BO[n].OK,e.A.D[e.BO[n].BF+"-feed-offset-start"]=e.BO[n].A9,e.BO[n].W=ZC.BQ(0,e.BO[n].A1-e.HQ["max-ticks"]+1),e.BO[n].J2())},ZC.JK.prototype.AC2=function(){var s=this,G,MP,ws,OP,OE,LX,A10,A43,A53,A9O,A0F,A5M,EA,OP;s.D["from-api"]&&(window.clearTimeout(ZC.REFRESH_TICK[s.L]),delete s.D["from-api"]),s.HQ&&(OP=ZC._i_(s.HQ.interval),OP=50<=OP?OP:1e3*OP,"full"===s.HQ.type?"http"===s.HQ.transport?ZC.REFRESH_TICK[s.L]=window.setTimeout(function(){s.A.N5(s),ZC.ZP(function(){s.A.load(s.L,s.A9F)})},OP):"websockets"===s.HQ.transport&&ZC.websockets&&(s.H.S9[s.L]?"pull"===s.HQ.method&&(ZC.REFRESH_TICK[s.L]=window.setTimeout(function(){s.H.S9[s.L].send("zingchart.getdata")},OP)):(ws=new WebSocket(s.HQ.url,"zingchart"),ws.onopen=function(){ws.send("zingchart."+s.HQ.type),ws.send("zingchart."+s.HQ.method),ws.send("zingchart.getdata")},ws.onmessage=function(e){"ready"===s.MC&&(s.A.N5(s),s.MC="full",ZC.ZP(function(){zingchart.exec(s.A.L,"setdata",{graphid:s.L,data:e.data,softclear:!0})}))},s.H.S9[s.L]=ws)):"feed"===s.HQ.type&&null!==ZC._n_(s.HQ.url)&&(null!==ZC._n_(s.HQ.curtain)&&(OE=s.BW("k"),0<OE.length&&(ZC.Q.EU(s.L+"-curtain-t"),0<OE[0].OK&&(LX=new ZC.DN(s),s.A.B8.load(LX.o,"("+s.AF+").refresh.curtain"),LX.append(s.HQ.curtain),LX.parse(),LX.AN&&(OE[0].CK&&LX.F<=OE[0].OK||!OE[0].CK&&LX.I<=OE[0].OK)&&(LX.L=s.L+"-curtain-t",LX.IL=ZC.AL(s.A.L+"-text-top"),OE[0].CK?(LX.F>OE[0].OK&&(LX.AM="",LX.parse()),LX.iX=s.P.iX,LX.iY=OE[0].AW?s.P.iY:s.P.iY+s.P.F-OE[0].OK,LX.I=s.P.I,LX.F=OE[0].OK):(LX.I>OE[0].OK&&(LX.AM="",LX.parse()),LX.iX=OE[0].AW?s.P.iX+s.P.I-OE[0].OK:s.P.iX,LX.iY=s.P.iY,LX.I=OE[0].OK,LX.F=s.P.F),LX.Z=LX.C7=ZC.AL(s.L+"-scales-ml-0-c"),LX.paint())))),A10=s.HQ.transport,A43=ZC._i_(s.HQ["reset-timeout"]),A53=ZC._i_(s.HQ["stop-timeout"]),A9O=ZC._b_(s.HQ.storage),A0F=!0,null!==ZC._n_(s.HQ["preserve-data"])&&(A0F=ZC._b_(s.HQ["preserve-data"])),A5M=function(KH){for(var TS=eval("("+KH+")"),i,A6,A8N=TS instanceof Array?TS:[TS],r=0,rLen=A8N.length;r<rLen;r++){for(var DL=A8N[r],i=0,A6=s.BO.length,BF,A3S;i<A6;i++){"k"===s.BO[i].AF&&(BF=s.BO[i].BF,null!==ZC._n_(DL[BF])&&null!==ZC._n_(s.o[BF])&&(null===ZC._n_(s.o[BF][ZC._[5]])&&(s.H.o[ZC._[16]][s.K][BF][ZC._[5]]=[],s.o[BF][ZC._[5]]=[]),s.o[BF][ZC._[5]].push(DL[BF]),!A0F&&s.o[BF][ZC._[5]].length>ZC._i_(s.HQ["max-ticks"])&&s.o[BF][ZC._[5]].splice(0,1),s.H.o[ZC._[16]][s.K][BF][ZC._[5]].push(DL[BF]),(s.o[BF][ZC._[5]].length>A43||1===s.ME[1])&&(s.H.o[ZC._[16]][s.K][BF][ZC._[5]]=[],s.o[BF][ZC._[5]]=[],s.H.D["graph"+s.K+".zoom"]&&(s.H.D["graph"+s.K+".zoom"].xmin=null,s.H.D["graph"+s.K+".zoom"].xmax=null),s.HJ&&(s.HJ.unbind(),ZC.Q.IV(ZC.AL(s.L+"-scroll-x-c"),s.A.AC,s.iX,s.iY,s.I,s.F,s.L),ZC.A5("#"+s.L+"-scroll-x-handle").remove(),ZC.A5("#"+s.L+"-scroll-x-bar").remove()),s.HS&&(s.HS.unbind(),ZC.Q.IV(ZC.AL(s.L+"-scroll-y-c"),s.A.AC,s.iX,s.iY,s.I,s.F,s.L),ZC.A5("#"+s.L+"-scroll-y-handle").remove(),ZC.A5("#"+s.L+"-scroll-y-bar").remove())),ZC.webstorage&&A9O&&ZC.AQ.storage.push("zingchart.scale."+s.L+"."+BF,""+DL[BF])))}for(i=0,A6=s.AZ.A3.length;i<A6;i++){null!==ZC._n_(s.o[ZC._[11]][i])&&(A3S=null,null===ZC._n_(G=DL["plot-"+i])&&null===ZC._n_(G=DL["plot"+i])||(A3S=G),"xy"===s.AJ.layout||"yx"===s.AJ.layout?(s.H.o[ZC._[16]][s.K][ZC._[11]][i][ZC._[5]].push(A3S),!A0F&&s.H.o[ZC._[16]][s.K][ZC._[11]][i][ZC._[5]].length>ZC._i_(s.HQ["max-ticks"])&&s.H.o[ZC._[16]][s.K][ZC._[11]][i][ZC._[5]].splice(0,1)):s.H.o[ZC._[16]][s.K][ZC._[11]][i][ZC._[5]]=[A3S],ZC.webstorage&&A9O&&(G=DL["plot"+i],"object"==typeof G&&(G=G.join("###")),ZC.AQ.storage.push("zingchart.plot."+s.L+".plot"+i,""+G)),(s.o[ZC._[11]][i][ZC._[5]].length>A43||1===s.ME[1])&&(ZC.AQ.C0("feed_clear",s.A,s.GY(),DL),s.H.o[ZC._[16]][s.K][ZC._[11]][i][ZC._[5]]=[]))}MP=s.A37()}"ready"!==s.MC&&!s.GE||(1===s.ME[1]&&(s.ME[1]=0),(MP<=A53||0===A53)&&(s.MC="feed",ZC.ZP(function(){ZC.AL(s.A.L+"-main")&&(ZC.AQ.C0("feed_step",s.H,s.GY(),s.o),s.parse(),s.clear(!0),s.U9(),s.paint(!0,!0))})))},"http"===A10||"js"===A10?(EA=s.HQ.url,ZC.REFRESH_TICK[s.L]=window.setTimeout(function(){if(1===s.ME[0]||1===s.ME[1])if(s.A.N5(s),"http"===A10){var EV=["query-string"===s.A.N2?"zcrandom="+Math.random():"",zingchart.ZCOUTPUT?"zcoutput="+s.H.AC:""].join("&");ZC.A5.ajax({type:"GET",url:EA,beforeSend:function(e){s.A.RR.data||"http-headers"!==s.A.N2||e.setRequestHeader(ZC._[45],"Thu, 01 Jan 1970 00:00:00 GMT")},data:EV,dataType:"text",error:function(){},success:function(s){A5M(s)}})}else if("()"===EA.substring(EA.length-2)||"javascript:"===EA.substring(0,11))try{var EB=EA.replace("javascript:","").replace("()","");eval(EB)&&eval(EB).call(s,function(s){A5M(s)},s.GY())}catch(e){}},OP)):"websockets"===A10&&ZC.websockets&&(s.H.S9[s.L]?"pull"===s.HQ.method&&(ZC.REFRESH_TICK[s.L]=window.setTimeout(function(){s.H.S9[s.L].send("zingchart.getdata")},OP)):(ws=new WebSocket(s.HQ.url,"zingchart"),ws.onopen=function(){ws.send("zingchart."+s.HQ.type),ws.send("zingchart."+s.HQ.method),ws.send("zingchart.startfeed"),"pull"===s.HQ.method&&ws.send("zingchart.getdata")},ws.onmessage=function(e){1!==s.ME[0]&&1!==s.ME[1]||A5M(e.data)},s.H.S9[s.L]=ws))))},zingchart.ABQ=function(s,e,t){document.getElementById("zc-fullscreen")&&(s="zc-fullscreen"),"string"==typeof(t=t||{})&&(t=JSON.parse(t));var n,a=zingchart.getLoader(s);if(a){var r=a.C9(t[ZC._[3]]);switch(e){case"clearfeed":r.ME[1]=1,0===r.ME[0]&&ZC.ZP(function(){r.parse(),r.clear(!0),r.U9(),r.paint(!0,!0)});break;case"getinterval":return r.HQ.interval;case"setinterval":ZC.AQ.C0("feed_interval_modify",a,r.GY()),r.o.refresh=r.o.refresh||{},r.o.refresh.interval=t.interval||1;break;case"stopfeed":1===r.ME[0]&&(ZC.AQ.C0("feed_stop",a,r.GY()),r.ME[0]=0,null!==ZC._n_(n=a.S9[r.L])&&n.send("zingchart.stopfeed"));break;case"startfeed":0===r.ME[0]&&(ZC.AQ.C0("feed_start",a,r.GY()),r.ME[0]=1,null!==ZC._n_(n=a.S9[r.L])&&n.send("zingchart.startfeed"),ZC.ZP(function(){r.parse(),r.clear(!0),r.U9(),r.paint(!0,!0)}))}}return null};