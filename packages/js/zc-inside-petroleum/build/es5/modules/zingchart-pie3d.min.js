/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.11pre
*/
ZC.WG.push("pie3d"),ZC.A5B=ZC.A3U.CC({$i:function(C){this.b(C);C=this;C.AF="pie3d",C.AZ=new ZC.A86(C),C.CM=new ZC.SO,C.AJ["3d"]=!0,C.AJ[ZC._[55]]=!1,C.AJ["x-angle-min"]=15,C.AJ["x-angle-max"]=75,C.AJ["y-angle-min"]=0,C.AJ["y-angle-max"]=0,C.AJ["z-angle-min"]=0,C.AJ["z-angle-max"]=0},clear:function(){this.b(),this.CM.clear()},paint:function(){var C=this;C.b(),C.SD(),C.flatten(),C.Q0(),C.FA.length&&(C.CM.clear(),C.KK(),C.SD()),C.UP(),-1===ZC.AV(C.H.KO,ZC._[41])&&C.S1()}}),ZC.A86=ZC.A57.CC({ACU:function(){return new ZC.XI(this)}}),ZC.XI=ZC.W6.CC({$i:function(C){this.b(C);this.AF="pie3d",this.NK=-1},parse:function(){this.b(),this.assign_a([["thickness","NK","ia"]])},TY:function(){return new ZC.A7K(this)}}),ZC.A7K=ZC.LG.CC({bCXY:!0,U:null,$i:function(C){this.b(C)},parse:function(){this.b()},AB3:function(){this.b();var C=this.C.D;C.update.npv=C.update["node-percent-value"]=this.JW("%npv")},JW:function(C,A,Z,n){var t=this,i=t.A.MS(),e=(ZC._cp_(A,i),-1===C.indexOf("%npv")&&-1===C.indexOf("%node-percent-value")||null!==ZC._n_(i[ZC._[12]])&&-1!==i[ZC._[12]]||(i[ZC._[12]]=1),0),o="0";if(0<t.A.A.KN[t.K]&&(o=""+(e=100*t.AD/t.A.A.KN[t.K])),1<t.A.A.A3.length&&t.A.K===t.A.A.A3.length-1){var a=0;if(null===ZC._n_(t.A.o.totals)){for(var _,s,u=0;u<t.A.A.A3.length-1;u++)t.A.A.A3[u].AN&&null!==ZC._n_(t.A.A.A3[u].S[t.K])&&(s="0",(_=0)<t.A.A.KN[t.K]&&(s=""+(_=100*t.A.A.A3[u].S[t.K].AD/t.A.A.KN[t.K])),null!==ZC._n_(i[ZC._[12]])&&(s=_.toFixed(ZC.BQ(0,ZC._i_(i[ZC._[12]])))),a+=ZC._f_(s));o=""+(e=Math.max(0,100-a))}}null!==ZC._n_(i[ZC._[12]])&&(o=e.toFixed(ZC.BQ(0,ZC._i_(i[ZC._[12]]))));e=ZC._f_(t.A.A.KN[t.K]||"0"),e=ZC.AQ.G3(e,i,t.A);return t.CV=[["%node-percent-value",o],["%npv",o],["%pie-total-value",e]],C=t.b(C,A,Z,n)},V4:function(C){var A=this,Z=(A.B4+A.BL)/2%360,n=0;(n=null!==ZC._n_(C=C["offset-r"])?ZC._f_(ZC._p_(C)):n)<1&&(n*=A.AI);C=new ZC.CF(A.C,(A.CO+.5*(A.AI-A.CO)+A.DV+n)*ZC.EI(Z),(A.CO+.5*(A.AI-A.CO)+A.DV+n)*ZC.EP(Z),0).ED;return[C[0],C[1],{reference:A,center:!0}]},setup:function(){var C=this,A=C.C.BM(C.A.BW("k")[0]),Z=C.K%A.H2,n=Math.floor(C.K/A.H2);C.iX=A.iX+Z*A.GK+A.GK/2+A.BK,C.iY=A.iY+n*A.GF+A.GF/2+A.BI,C.I3||(C.copy(C.A),C.E7=C.A.E7,C.DF()&&C.parse(),C.I3=!0)},ABF:function(C){var A={},Z="out";return null!==ZC._n_(C.o[ZC._[7]])&&(Z=C.o[ZC._[7]]),A.color="out"===Z?this.A0:this.C2,A},AC7:function(n){var C,A,Z,t,i=this,e="out",o=(null!==ZC._n_(_=n.o[ZC._[7]])&&(e=_),n.I),a=n.F;_=(i.B4+i.BL)/2%360;if("out"===e){var _=C=i.A.A.YB["n"+i.K][i.A.K],s=function(C,A){A<0&&(A=360+A),A%=360;var C=ZC.AO.BN(i.iX,i.iY,C+i.DV+n.DV+20,A),Z=i.C.EZ[ZC._[27]],Z=(45<Z&&10<i.A.A.A3.length&&(i.C.EZ[ZC._[27]]=45+(Z-45)/3),t=new ZC.CF(i.C,C[0]-ZC.AP.E4,C[1]-ZC.AP.E5,0),i.C.EZ[ZC._[27]]=Z,C[0]=t.ED[0],C[1]=t.ED[1],C[0]+n.BK-o/2),C=C[1]+n.BI-a/2;return 0<=A&&A<=90||270<=A&&A<=360?Z+=o/2+10:Z-=o/2+10,[Z,C]},u=s(i.AI,C),r=u[0],E=u[1];i.U=n;for(var h={x:r,y:E,width:o,height:a},l=zingchart.DEV.SPREADTYPE,I=(c=!0,0),B=0,p=-1,D=0,f=0;c&&f<1024;)for(var c=!1,K=0,d=i.A.A.TO.length;K<d;K++)A=i.A.A.TO[K],(ZC.AO.XV(h,A,10<i.A.A.A3.length?-8:-2)||h.x+n.I>i.C.P.iX+i.C.P.I||h.x<i.C.P.iX||h.y+n.F>i.C.P.iY+i.C.P.F||h.y<i.C.P.iY)&&(c=!0,0===l?(I+=.4,p*=-1):1===l&&(B+=1),u=s(i.AI+B,C+I*p),h.x=u[0],h.y=u[1],f++,100<++D&&((D=0)===l?(I=0,B+=4):1===l&&(B=0,I+=1,p*=-1)));r=h.x,E=h.y,_=C+I,A={text:i.A.AM,x:h.x,y:h.y,width:o,height:a,plotindex:i.A.K,nodeindex:i.K},i.A.A.TO.push(A)}else"in"===e?(Z=i.CO<30?.65:.5,Z=ZC.AO.BN(i.iX,i.iY,i.CO+Z*(i.AI-i.CO)+i.DV+n.DV,_),t=new ZC.CF(i.C,Z[0]-ZC.AP.E4,Z[1]-ZC.AP.E5,0),Z[0]=t.ED[0],Z[1]=t.ED[1],r=Z[0]+n.BK-o/2,E=Z[1]+n.BI-a/2):"center"===e&&(r=(t=new ZC.CF(i.C,i.iX-ZC.AP.E4,i.iY-ZC.AP.E5,0)).ED[0]+n.BK-o/2,E=t.ED[1]+n.BI-a/2);return c&&(n.AN=!(E=r=-9999)),null!==ZC._n_(n.o.x)&&(r=n.iX),null!==ZC._n_(n.o.y)&&(E=n.iY),-2<=r&&(r=ZC._a_(r)),-2<=E&&(E=ZC._a_(E)),[ZC._i_(r),ZC._i_(E),_]},GX:function(C,A){var Z,n,t,i,e=this,A=e.b(C,A);if(C)return A;e.AN&&A.AN&&null!==ZC._n_(A.AM)&&""!==A.AM&&((C="out")===(C=null!==ZC._n_(A.o[ZC._[7]])?A.o[ZC._[7]]:C)&&(C=!0,(C=null!==ZC._n_(Z=A.o.connected)?ZC._b_(Z):C)&&((Z=new ZC.DT(e.A)).Z=Z.C7=e.A.CQ("bl",0),Z.append(e.A.C3.o),Z.B7=e.A0,Z.DS="line",Z.E=[],C=A.D.positioninfo,(t=0)<=(n=(e.B4+e.BL)/2%360)&&n<=180&&(t=e.D.thickness/2),i=ZC.AO.BN(e.iX,e.iY,e.AI+e.DV+A.DV,n),(i=new ZC.CF(e.C,i[0]-ZC.AP.E4,i[1]-ZC.AP.E5,t).ED)[0]+=e.BK,i[1]+=e.BI,Z.E.push(i),i=ZC.AO.BN(e.iX,e.iY,e.AI+e.DV+A.DV+20,n),(i=new ZC.CF(e.C,i[0]-ZC.AP.E4,i[1]-ZC.AP.E5,t).ED)[0]+=e.BK,i[1]+=e.BI,A.iX>=e.iX?Z.E.push([i[0],i[1],C[0],C[1]+A.F/2]):Z.E.push([i[0],i[1],C[0]+A.I+2,C[1]+A.F/2]),Z.parse(),Z.J5=function(C){return e.J5(C)},Z.DF()&&Z.parse(),Z.AN&&Z.paint())))},paint:function(){var C,i,A,e=this,o=e.C.CM,Z=e.C.BM(e.A.BW("k")[0]),n=e.C.EZ[ZC._[27]],t=e.C.EZ[ZC._[28]],a=(e.setup(),"pie-sel-"+e.A.K+"-"+e.K);if(typeof e.o.detached!==ZC._[31]&&(e.C.D[a]=ZC._b_(e.o.detached)),!(e.AD<0)){var _,n=ZC.BQ(.7,ZC.EI(n)),s=(e.AI=ZC.CY(Z.GF/n,Z.GK)/2,null!==ZC._n_(e.A.o[ZC._[21]])?e.AI=e.A.AI:e.AI=Z.JF*e.AI,e.CO<1&&(e.CO*=e.AI),e.CO=Math.max(0,e.CO),e.o[ZC._[8]]=e.CO,e.DV<1&&(e.DV*=e.AI),e.o["offset-r"]=e.DV,e.A.NK),u=(-1===s&&(s=e.AI/5),e.D.thickness=s,e.iX-ZC.AP.E4),r=e.iY-ZC.AP.E5,n=(e.B4=ZC._i_(e.B4),e.BL=ZC._i_(e.BL),(e.B4+e.BL)/2),Z=(e.C.D[a]&&(e.DV+=ZC._i_(.15*e.AI)),0<e.DV&&(u+=e.DV*ZC.EI(n),r+=e.DV*ZC.EP(n)),e.O=e.A.IE(e,e)),E=(Z.DI=e.L+"-3dfacet",new ZC.D0(e));if(E.copy(Z),E.A0=ZC.AQ.JN(ZC.AQ.GC(E.A0)),E.AE=ZC.AQ.JN(ZC.AQ.GC(E.AE)),0<=e.AD||0===e.A.A.KN[e.K]){for(C=e.B4,(A=[]).push([u+e.CO*ZC.EI(C),r+e.CO*ZC.EP(C),0]),C=e.B4;C<=e.BL;C+=1)A.push([u+e.AI*ZC.EI(C),r+e.AI*ZC.EP(C),0]);for(C=e.BL,A.push([u+e.CO*ZC.EI(C),r+e.CO*ZC.EP(C),0]),C=e.BL;C>=e.B4;--C)A.push([u+e.CO*ZC.EI(C),r+e.CO*ZC.EP(C),0]);if((a=ZC.DK.D8(Z,e.C,A)).L=e.L+"-facet1",o.add(a),i=null,(e.B4%360>=0+t&&e.B4%360<180+t||e.BL%360>0+t)&&(_=e.B4,n=e.BL,Z=function(C,A,Z){var n=[],t=C;for(n.push([u+e.AI*ZC.EI(t),r+e.AI*ZC.EP(t),0]),t=C;t<=A;t+=1)n.push([u+e.AI*ZC.EI(t),r+e.AI*ZC.EP(t),0]);for(t=A,n.push([u+e.AI*ZC.EI(t),r+e.AI*ZC.EP(t),s]),t=A;C<=t;--t)n.push([u+e.AI*ZC.EI(t),r+e.AI*ZC.EP(t),s]);(i=ZC.DK.D8(E,e.C,n)).MD=[.01,1,1,1],i.L=e.L+"-facet2"+Z,o.add(i)},_<180&&360<n?(Z(_=_<0?_+360:_,180,1),Z(360,n,2)):(_=ZC.BQ(_,360<n?365:5))<(n=ZC.CY(n,360<n?535:175))&&Z(_,n,1)),n=null,e.CO>0+t&&e.BL>180+t){for(C=e.B4,_=e.B4,e.B4<180+t&&e.BL>180+t&&(_=C=180+t),(A=[]).push([u+e.CO*ZC.EI(C),r+e.CO*ZC.EP(C),0]),C=_;C<=e.BL;C+=1)A.push([u+e.CO*ZC.EI(C),r+e.CO*ZC.EP(C),0]);for(C=e.BL,A.push([u+e.CO*ZC.EI(C),r+e.CO*ZC.EP(C),s]),C=e.BL;_<=C;--C)A.push([u+e.CO*ZC.EI(C),r+e.CO*ZC.EP(C),s]);(n=ZC.DK.D8(E,e.C,A)).L=e.L+"-facet3",o.add(n)}var Z=function(C,A,Z){return[[u+C*ZC.EI(Z),r+C*ZC.EP(Z),0],[u+C*ZC.EI(Z),r+C*ZC.EP(Z),s],[u+A*ZC.EI(Z),r+A*ZC.EP(Z),s],[u+A*ZC.EI(Z),r+A*ZC.EP(Z),0]]},h=((t=ZC.DK.D8(E,e.C,{points:Z(e.CO,e.AI,e.B4),mathpoints:Z(e.CO+1,e.AI+1,e.B4-1)})).L=e.L+"-facet4",o.add(t),(Z=ZC.DK.D8(E,e.C,{points:Z(e.CO,e.AI,e.BL),mathpoints:Z(e.CO+1,e.AI+1,e.BL+1)})).L=e.L+"-facet5",o.add(Z),e.C.L+ZC._[34]+e.C.L+ZC._[35]+e.A.K+ZC._[6]),h=ZC.Q.FX("poly",e.A.EA)+'class="'+h+'" id="'+e.L,l=e.A.A.HE;l.push(h+'--top" '+e.a11y()+' data-z-sort="1" coords="'+a.FG()+'" />'),i&&l.push(h+'--outer" data-z-sort="1" coords="'+i.FG()+'" />'),(0<e.CO||0<e.DV)&&(n&&l.push(h+'--inner" data-z-sort="2" coords="'+n.FG()+'" />'),l.push(h+'--start" data-z-sort="2" coords="'+t.FG()+'" />',h+'--end" data-z-sort="2" coords="'+Z.FG()+'" />'))}e.A.U&&e.GX()}},X4:function(C,A){var Z=this;Z.b(C,A),"click"===A&&C.which<=1&&Z.A.A7S&&(A="pie-sel-"+Z.A.K+"-"+Z.K,Z.C.D[A]=typeof Z.C.D[A]===ZC._[31]||!Z.C.D[A],Z.C.K7())}});